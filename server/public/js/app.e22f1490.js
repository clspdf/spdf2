(function(e){function t(t){for(var o,i,c=t[0],s=t[1],d=t[2],u=0,v=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&v.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(v.length)v.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},a={app:0},n=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("router-view")],1)},n=[],i={name:"App",components:{},data:function(){return{}}},c=i,s=r("2877"),d=r("6544"),l=r.n(d),u=r("7496"),v=Object(s["a"])(c,a,n,!1,null,null,null),h=v.exports;l()(v,{VApp:u["a"]});r("b0c0"),r("96cf");var f=r("1da1"),g=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:this.$options.name.toUpperCase()}}),r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("v-row",{attrs:{justify:"space-around"}},[r("v-form",[r("v-text-field",{attrs:{label:"Name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{attrs:{label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("v-row",{attrs:{justify:"space-around"}},[r("v-btn",{attrs:{color:"success"},on:{click:e.login}},[e._v("Login In")])],1)],1)],1)],1)],1)},m=[],k=r("d4ec"),w=r("bee2"),y=r("7338"),j=r.n(y),x=(r("df7c"),"/api/user"),T=function(){function e(){Object(k["a"])(this,e)}return Object(w["a"])(e,null,[{key:"login",value:function(e){return j.a.post(x+"/login",e)}},{key:"checkLogin",value:function(){return j.a.get(x+"/checkuser")}},{key:"logout",value:function(){return j.a.post(x+"/logout")}}]),e}(),b=T,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{dense:"",flat:"",color:"primary"}},[r("v-app-bar-nav-icon",{attrs:{color:"white"}}),r("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))]),r("v-spacer"),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({attrs:{color:"success"}},o),[e._v(" Navigation ")])]}}])},[r("v-list",e._l(e.filtered_navigations,(function(t,o){return r("v-list-item",{key:o,on:{click:function(r){return e.navigate(t)}}},[r("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1),e.isLogin?r("v-btn",{attrs:{color:"white",icon:""},on:{click:e.logout}},[r("v-icon",[e._v("mdi-exit-to-app")])],1):e._e()],1)},S=[],P=(r("4de4"),{name:"Navbar",data:function(){return{navigations:[{name:"Login",path:"/login"},{name:"Projects",path:"/projects"},{name:"Todos",path:"/todos"},{name:"ProjectTodos",path:"/projectTodos"},{name:"Daily",path:"/daily"}]}},props:["title","canLogout"],methods:{logout:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.logout();case 2:r=t.sent,r.data?(console.log("server session destroyed"),e.$store.commit("users/setUserID",null),console.log("vuex reset to null"),e.$router.push("/").catch((function(e){console.log("Error found as ".concat(e))}))):console.log("something is wrong");case 4:case"end":return t.stop()}}),t)})))()},navigate:function(e){this.$router.push(e.path)}},computed:{isLogin:function(){return!!this.$store.getters["users/getUserID"]},filtered_navigations:function(){var e=this;return this.navigations.filter((function(t){if(t.name.toUpperCase()!==e.title.toUpperCase())return!0}))}}}),D=P,C=r("40dc"),O=r("5bc1"),W=r("8336"),I=r("132d"),V=r("8860"),L=r("da13"),A=r("5d23"),G=r("e449"),$=r("2fa4"),R=r("2a7f"),N=Object(s["a"])(D,_,S,!1,null,null,null),E=N.exports;l()(N,{VAppBar:C["a"],VAppBarNavIcon:O["a"],VBtn:W["a"],VIcon:I["a"],VList:V["a"],VListItem:L["a"],VListItemTitle:A["b"],VMenu:G["a"],VSpacer:$["a"],VToolbarTitle:R["a"]});var M={name:"Login",components:{Navbar:E},data:function(){return{user:{name:"spdf_hash",password:""}}},methods:{login:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.login(e.user);case 2:r=t.sent,r.data?(e.$store.commit("users/setUserID",r.data),console.log("Now the state has been changed to - ".concat(e.$store.getters["users/getUserID"]))):console.log("nil valid ID"),e.user={name:"",password:""},e.$router.push("todos");case 5:case"end":return t.stop()}}),t)})))()}}},U=M,B=r("a523"),F=r("4bd4"),J=r("0fd9"),K=r("8654"),z=Object(s["a"])(U,p,m,!1,null,null,null),q=z.exports;l()(z,{VBtn:W["a"],VContainer:B["a"],VForm:F["a"],VRow:J["a"],VTextField:K["a"]});var H=r("2f62"),Q={userID:null};console.log("vuex initialized, userID at ".concat(Q.userID));var X={getUserID:function(e){return e.userID}},Y={},Z={setUserID:function(e,t){return e.userID=t}},ee={namespaced:!0,state:Q,getters:X,actions:Y,mutations:Z};o["a"].use(H["a"]);var te=new H["a"].Store({state:{},mutations:{},actions:{},modules:{users:ee}}),re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:this.$options.name.toUpperCase()}}),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({staticClass:"my-3 ml-5",attrs:{color:"primary white--text"}},o),[e._v(" Add New ")])]}}]),model:{value:e.new_dialog,callback:function(t){e.new_dialog=t},expression:"new_dialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-card-text",[r("v-text-field",{attrs:{label:"Title"},model:{value:e.editedTodo.title,callback:function(t){e.$set(e.editedTodo,"title",t)},expression:"editedTodo.title"}}),r("v-textarea",{attrs:{"auto-grow":"",label:"Content"},model:{value:e.editedTodo.content,callback:function(t){e.$set(e.editedTodo,"content",t)},expression:"editedTodo.content"}}),r("v-text-field",{attrs:{label:"Status"},model:{value:e.editedTodo.status,callback:function(t){e.$set(e.editedTodo,"status",t)},expression:"editedTodo.status"}}),r("v-text-field",{attrs:{label:"Due By"},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:e.save}},[e._v("OK")])],1)],1)],1),e._l(e.todos,(function(t){return r("v-card",{key:t._id,staticClass:"mx-5"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold headline d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" "+e._s(t.title)+" ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.content)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Due By ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.due)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Created On ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.created)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-chip",{attrs:{color:"primary",small:""}},[e._v(e._s(t.status))])],1)],1),r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(r){return e.editTodo(t)}}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(r){return e.deleteTodo(t)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1)])],1)],1)}))],2)},oe=[],ae="/api/todos",ne=function(){function e(){Object(k["a"])(this,e)}return Object(w["a"])(e,null,[{key:"getTodos",value:function(){return j.a.get(ae+"/")}},{key:"createTodo",value:function(e){return j.a.post(ae+"/",{title:e.title,content:e.content,status:e.status,created:e.created,due:e.due})}},{key:"updateTodo",value:function(e,t){return j.a.post(ae+"/"+t,{title:e.title,content:e.content,status:e.status,created:e.created,due:e.due})}},{key:"deleteTodo",value:function(e){return j.a.delete(ae+"/"+e)}}]),e}(),ie=ne,ce={name:"Todos",components:{Navbar:E},data:function(){return{todos:[],loading:!1,editedIndex:-1,new_dialog:!1,editedTodo:{title:"",content:"",status:"",due:""},blankTodo:{title:"",content:"",status:"",due:""}}},methods:{getAllTodos:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.getTodos();case 2:e.todos=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.new_dialog=!1,this.$nextTick((function(){e.editedTodo=Object.assign({},e.blankTodo),e.editedIndex=-1}))},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,-1!==e.editedIndex){t.next=17;break}return e.editedTodo.created=(new Date).toLocaleString("en-CN",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),t.prev=3,t.next=6,ie.createTodo(e.editedTodo);case 6:return t.next=8,e.getAllTodos();case 8:e.loading=!1,e.close(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:t.next=31;break;case 17:return e.editedTodo.created=(new Date).toLocaleString("en-CN",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),t.prev=18,t.next=21,ie.updateTodo(e.editedTodo,e.editedIndex);case 21:return t.sent,t.next=24,e.getAllTodos();case 24:e.loading=!1,e.close(),t.next=31;break;case 28:t.prev=28,t.t1=t["catch"](18),console.log(t.t1);case 31:case"end":return t.stop()}}),t,null,[[3,12],[18,28]])})))()},editTodo:function(e){this.editedIndex=e._id,this.editedTodo=Object.assign({},e),this.new_dialog=!0},deleteTodo:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,ie.deleteTodo(e._id);case 2:return r.next=4,t.getAllTodos();case 4:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.getTodos();case 2:e.todos=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},computed:{formTitle:function(){return-1===this.editedIndex?"New TODO":"Edit TODO"}}},se=ce,de=r("b0af"),le=r("99d9"),ue=r("cc20"),ve=r("62ad"),he=r("169a"),fe=r("a844"),ge=Object(s["a"])(se,re,oe,!1,null,null,null),pe=ge.exports;l()(ge,{VBtn:W["a"],VCard:de["a"],VCardActions:le["a"],VCardText:le["b"],VCardTitle:le["c"],VChip:ue["a"],VCol:ve["a"],VContainer:B["a"],VDialog:he["a"],VIcon:I["a"],VRow:J["a"],VSpacer:$["a"],VTextField:K["a"],VTextarea:fe["a"]});var me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:this.$options.name.toUpperCase()}}),r("h1",[e._v("Where is my navbar")]),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({staticClass:"my-3 ml-5",attrs:{color:"primary white--text"}},o),[e._v(" Add New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-card-text",[r("v-text-field",{attrs:{label:"Title"},model:{value:e.editedProject.title,callback:function(t){e.$set(e.editedProject,"title",t)},expression:"editedProject.title"}}),r("v-textarea",{attrs:{"auto-grow":"",label:"Content"},model:{value:e.editedProject.content,callback:function(t){e.$set(e.editedProject,"content",t)},expression:"editedProject.content"}}),r("v-text-field",{attrs:{label:"Status"},model:{value:e.editedProject.status,callback:function(t){e.$set(e.editedProject,"status",t)},expression:"editedProject.status"}}),r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Pick a due date","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.editedProject.due,callback:function(t){e.$set(e.editedProject,"due",t)},expression:"editedProject.due"}},o))]}}]),model:{value:e.due_menu,callback:function(t){e.due_menu=t},expression:"due_menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.due_menu=!1}},model:{value:e.editedProject.due,callback:function(t){e.$set(e.editedProject,"due",t)},expression:"editedProject.due"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:e.save}},[e._v("OK")])],1)],1)],1),e._l(e.projects,(function(t){return r("v-card",{key:t._id,staticClass:"mx-5"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold headline d-flex align-end justify-right",attrs:{flat:"",height:"30"},on:{click:function(r){return e.goToProjectDetail(t)}}},[e._v(" "+e._s(t.title)+" ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.content)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Due By ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.due)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Created On ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.created)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-chip",{attrs:{color:"primary",small:""}},[e._v(e._s(t.status))])],1)],1),r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(r){return e.editProject(t)}}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(r){return e.deleteProject(t)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1)])],1)],1)}))],2)},ke=[],we=(r("99af"),r("a9e3"),"/api/projects/"),ye="/api/projecttodos/",je=function(){function e(){Object(k["a"])(this,e)}return Object(w["a"])(e,null,[{key:"getProjects",value:function(){return j.a.get(we)}},{key:"getOneProject",value:function(e){return j.a.get(we+e)}},{key:"getProjectTodos",value:function(e){return j.a.get(ye+e)}},{key:"getAllProjectTodos",value:function(){return j.a.get(ye)}},{key:"createProject",value:function(e){return j.a.post(we,{projectCategory:e.projectCategory,title:e.title,content:e.content,due:e.due,status:e.status})}},{key:"updateProject",value:function(e){return j.a.post(we+"/"+project_id,{projectCategory:e.projectCategory,title:e.title,content:e.content,due:e.due,status:e.status})}},{key:"reorderProjectTodos",value:function(e,t,r,o){return j.a.post(ye+"/reorder/"+e,{oldIndex:t,newIndex:r,projectTodo_id:o})}},{key:"deleteProjectTodo",value:function(e){return console.log(e.order),j.a.delete(ye+"/"+e._id,{data:{project_id:e.project_id?e.project_id:null,order:e.order?Number(e.order):null}})}},{key:"createProjectTodo",value:function(e){return j.a.post(ye,{project_id:e.project_id,title:e.title,content:e.content,due:e.due,status:e.status})}},{key:"updateProjectTodo",value:function(e){return j.a.post(ye+"/"+e._id,{project_id:e.project_id,title:e.title,content:e.content,order:Number(e.order),due:new Date(e.due),status:e.status})}},{key:"switchTodoProject",value:function(e,t){return j.a.post(ye+"switchproject/"+t,{_id:e._id,project_id:e.project_id,title:e.title,content:e.content,order:Number(e.order),due:new Date(e.due),status:e.status})}},{key:"updateProject",value:function(e){return j.a.post(we+"/"+e._id,{projectCategory:e.projectCategory,title:e.title,content:e.content,due:new Date(e.due),status:e.status})}},{key:"deleteProject",value:function(e){return j.a.delete(we+"/"+e._id)}}]),e}(),xe=je,Te={name:"Projects",components:{Navbar:E},data:function(){return{projects:[],dialog:!1,editedIndex:-1,editedProject:{projectCategory:"",title:"",content:"",due:"",status:""},blankProject:{projectCategory:"",title:"",content:"",due:"",status:""},due_menu:!1,loading:!1}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.getProjects();case 2:e.projects=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},methods:{editProject:function(e){this.editedIndex=0,this.editedProject=Object.assign({},e),this.dialog=!0},deleteProject:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,xe.deleteProject(e);case 2:return r.next=4,xe.getProjects();case 4:t.projects=r.sent.data;case 5:case"end":return r.stop()}}),r)})))()},goToProjectDetail:function(e){this.$router.push("/projectdetail/projectid/".concat(e._id,"/projecttitle/").concat(e.title))},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,-1!==e.editedIndex){t.next=11;break}return t.next=4,xe.createProject(e.editedProject);case 4:return t.next=6,xe.getProjects();case 6:e.projects=t.sent.data,e.loading=!1,e.close(),t.next=18;break;case 11:return t.next=13,xe.updateProject(e.editedProject);case 13:return t.next=15,xe.getProjects();case 15:e.projects=t.sent.data,e.loading=!1,e.close();case 18:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedProject=Object.assign({},e.blankProject),e.editedIndex=-1}))}},computed:{formTitle:function(){return-1===this.editedIndex?"New Project":"Edit Project"}}},be=Te,_e=r("2e4b"),Se=Object(s["a"])(be,me,ke,!1,null,null,null),Pe=Se.exports;l()(Se,{VBtn:W["a"],VCard:de["a"],VCardActions:le["a"],VCardText:le["b"],VCardTitle:le["c"],VChip:ue["a"],VCol:ve["a"],VContainer:B["a"],VDatePicker:_e["a"],VDialog:he["a"],VIcon:I["a"],VMenu:G["a"],VRow:J["a"],VSpacer:$["a"],VTextField:K["a"],VTextarea:fe["a"]});var De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:"Project Details".toUpperCase()}}),r("h1",[e._v("Projec ID: "+e._s(e.projectID)+" Project Title: "+e._s(e.projectTitle))]),r("v-card",{staticClass:"mx-5"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold headline d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" "+e._s(e.project.title)+" ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(e.project.content)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Due By ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(e.project.due)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Created On ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(e.project.created)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-chip",{attrs:{color:"primary",small:""}},[e._v(e._s(e.project.status))])],1)],1),r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.editProject(e.project)}}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(t){return e.deleteProject(e.project)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1)])],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({staticClass:"my-3 ml-5",attrs:{color:"primary white--text"}},o),[e._v(" Add New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-card-text",[r("v-text-field",{attrs:{readonly:"",placeholder:e.projectTitle}}),r("v-text-field",{attrs:{label:"Title"},model:{value:e.editedTodo.title,callback:function(t){e.$set(e.editedTodo,"title",t)},expression:"editedTodo.title"}}),r("v-textarea",{attrs:{"auto-grow":"",label:"Content"},model:{value:e.editedTodo.content,callback:function(t){e.$set(e.editedTodo,"content",t)},expression:"editedTodo.content"}}),r("v-text-field",{attrs:{label:"Status"},model:{value:e.editedTodo.status,callback:function(t){e.$set(e.editedTodo,"status",t)},expression:"editedTodo.status"}}),r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Pick a due date","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}},o))]}}]),model:{value:e.due_menu,callback:function(t){e.due_menu=t},expression:"due_menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.due_menu=!1}},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:e.save}},[e._v("OK")])],1)],1)],1),r("h1",[e._v("This is the current Todo List")]),r("strong",[e._v("Previous Index: "+e._s(e.oldIndex))]),r("strong",[e._v("New Index: "+e._s(e.newIndex))]),r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),r("draggable",{attrs:{group:"todos","ghost-class":"ghost"},on:{end:e.onEnd},model:{value:e.projectTodos,callback:function(t){e.projectTodos=t},expression:"projectTodos"}},[r("transition-group",e._l(e.projectTodos,(function(t){return r("v-card",{key:t._id,staticClass:"mx-5 my-2"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold headline d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" "+e._s(t.title)+" ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.content)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Due By ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.due)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Created On ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.created)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-chip",{attrs:{color:"primary",small:""}},[e._v(e._s(t.status))])],1)],1),r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(r){return e.editProjectTodo(t)}}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(r){return e.deleteTodo(t)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1)])],1)],1)})),1)],1)],1)},Ce=[],Oe=r("310e"),We=r.n(Oe),Ie={name:"ProjectDetail",components:{Navbar:E,draggable:We.a},data:function(){return{projectID:"default",projectTitle:"",project:"",projectTodos:[],date_menu:!1,due_menu:!1,orderTodo1:"",orderTodo2:"",overlay:!1,dialog:!1,editedIndex:-1,editedTodo:{project_id:"",title:"",content:"",due:"",status:""},blankTodo:{project_id:"",title:"",content:"",due:"",status:""},loading:!1,oldIndex:"",newIndex:""}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.projectID=e.$route.params.projectid,e.projectTitle=e.$route.params.projecttitle,t.next=4,xe.getOneProject(e.projectID);case 4:return e.project=t.sent.data[0],t.next=7,xe.getProjectTodos(e.projectID);case 7:e.projectTodos=t.sent.data,console.log(e.projectTodos);case 9:case"end":return t.stop()}}),t)})))()},methods:{onEnd:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.oldIndex=e.oldIndex,t.newIndex=e.newIndex,console.log("item ".concat(t.oldIndex," moved to item ").concat(t.newIndex)),t.oldIndex!==t.newIndex){r.next=7;break}console.log("No order changed!"),r.next=18;break;case 7:return t.overlay=!0,console.log("order changed, now trying to udpate db"),r.next=11,xe.reorderProjectTodos(t.projectID,t.oldIndex,t.newIndex,t.projectTodos[t.newIndex]._id);case 11:return r.next=13,xe.getProjectTodos(t.projectID);case 13:t.projectTodos=r.sent.data,console.log("re-order done!"),t.oldIndex="",t.newIndex="",t.overlay=!1;case 18:case"end":return r.stop()}}),r)})))()},deleteTodo:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,xe.deleteProjectTodo(e);case 2:return r.next=4,xe.getProjectTodos(t.projectID);case 4:t.projectTodos=r.sent.data;case 5:case"end":return r.stop()}}),r)})))()},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,-1!==e.editedIndex){t.next=14;break}return e.editedTodo.project_id=e.projectID,console.log(e.editedTodo),t.next=6,xe.createProjectTodo(e.editedTodo);case 6:return console.log("new projectTodo created!"),t.next=9,xe.getProjectTodos(e.projectID);case 9:e.projectTodos=t.sent.data,e.loading=!1,e.close(),t.next=33;break;case 14:if(0!==e.editedIndex){t.next=25;break}return t.next=17,xe.updateProjectTodo(e.editedTodo);case 17:return console.log("projectTodo updated!"),t.next=20,xe.getProjectTodos(e.projectID);case 20:e.projectTodos=t.sent.data,e.loading=!1,e.close(),t.next=33;break;case 25:return t.next=27,xe.updateProject(e.editedTodo);case 27:return console.log("Project updated!"),t.next=30,xe.getOneProject(e.projectID);case 30:e.project=t.sent.data[0],e.projectTitle=e.project.title,e.close();case 33:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.loading=!1,this.$nextTick((function(){e.editedTodo=Object.assign({},e.blankTodo),e.editedIndex=-1}))},editProjectTodo:function(e){this.editedIndex=0,this.editedTodo=Object.assign({},e),this.dialog=!0},editProject:function(e){this.editedIndex=1,this.editedTodo=Object.assign({},e),this.dialog=!0},deleteProject:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,xe.deleteProject(e);case 2:t.$router.push("/projects");case 3:case"end":return r.stop()}}),r)})))()}},computed:{formTitle:function(){return-1===this.editedIndex?"new Project TODO":0===this.editedIndex?"edit Project TODO":"edit Project"}}},Ve=Ie,Le=r("a797"),Ae=r("490a"),Ge=Object(s["a"])(Ve,De,Ce,!1,null,null,null),$e=Ge.exports;l()(Ge,{VBtn:W["a"],VCard:de["a"],VCardActions:le["a"],VCardText:le["b"],VCardTitle:le["c"],VChip:ue["a"],VCol:ve["a"],VContainer:B["a"],VDatePicker:_e["a"],VDialog:he["a"],VIcon:I["a"],VMenu:G["a"],VOverlay:Le["a"],VProgressCircular:Ae["a"],VRow:J["a"],VSpacer:$["a"],VTextField:K["a"],VTextarea:fe["a"]});var Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:this.$options.name.toUpperCase()}}),r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),r("h1",[e._v(e._s(e.selectedProject))]),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({staticClass:"my-3 ml-5",attrs:{color:"primary white--text"}},o),[e._v(" Add New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-card-text",[r("v-switch",{attrs:{label:"Project?"},on:{change:e.populateProjects},model:{value:e.selectProject,callback:function(t){e.selectProject=t},expression:"selectProject"}}),e.changeProject?r("v-overflow-btn",{attrs:{items:e.projectTitles,disabled:!e.selectProject},model:{value:e.selectedIndex,callback:function(t){e.selectedIndex=t},expression:"selectedIndex"}}):r("v-text-field",{attrs:{readonly:"",placeholder:e.originalProjectTitle}}),r("v-text-field",{attrs:{label:"Title"},model:{value:e.editedTodo.title,callback:function(t){e.$set(e.editedTodo,"title",t)},expression:"editedTodo.title"}}),r("v-textarea",{attrs:{"auto-grow":"",label:"Content"},model:{value:e.editedTodo.content,callback:function(t){e.$set(e.editedTodo,"content",t)},expression:"editedTodo.content"}}),r("v-text-field",{attrs:{label:"Status"},model:{value:e.editedTodo.status,callback:function(t){e.$set(e.editedTodo,"status",t)},expression:"editedTodo.status"}}),r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Pick a due date","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}},o))]}}]),model:{value:e.due_menu,callback:function(t){e.due_menu=t},expression:"due_menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.due_menu=!1}},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:e.save}},[e._v("OK")])],1)],1)],1),e._l(e.projectTodos,(function(t){return r("v-card",{key:t._id,staticClass:"mx-5 my-1"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold headline d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" "+e._s(t.title)+" ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.content)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Due By ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.due)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"pl-3 font-weight-bold grey--text d-flex align-end justify-right",attrs:{flat:"",height:"30"}},[e._v(" Created On ")])],1),r("div",[r("v-card",{staticClass:"pl-3 pa-1 font-weight-regular",attrs:{flat:""}},[e._v(" "+e._s(t.created)+" ")])],1)]),r("v-col",{attrs:{cols:"4",md:"2"}},[r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-chip",{attrs:{color:"primary",small:""}},[e._v(e._s(t.status))])],1)],1),r("div",[r("v-card",{staticClass:"d-flex justify-end align-end pr-3",attrs:{flat:"",height:"30"}},[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(r){return e.editProjectTodo(t)}}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(r){return e.deleteProjectTodo(t)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)],1)])],1)],1)}))],2)},Ne=[],Ee=(r("d81d"),r("ac1f"),r("1276"),{name:"ProjectTodos",components:{Navbar:E},data:function(){return{projectTodos:[],projects:[],loading:!1,overlay:!1,dialog:!1,due_menu:!1,editedIndex:-1,selectProject:!1,originalProjectTitle:"",oldProjectID:"",editedTodo:{project_id:"",title:"",content:"",due:"",status:""},blankTodo:{project_id:"",title:"",content:"",due:"",status:""},selectedIndex:""}},methods:{close:function(){this.editedTodo=Object.assign({},this.blankTodo),this.editedIndex=-1,this.oldProjectID="",this.selectProject=!1,this.selectedIndex="",this.dialog=!1},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,-1!==e.editedIndex){t.next=12;break}return e.selectProject?e.editedTodo.project_id=e.selectedProject._id:e.editedTodo.project_id="",t.next=5,xe.createProjectTodo(e.editedTodo);case 5:return t.next=7,xe.getAllProjectTodos();case 7:e.projectTodos=t.sent.data,e.close(),e.loading=!1,t.next=26;break;case 12:if(!e.changeProject){t.next=19;break}return e.oldProjectID=e.editedTodo.project_id,e.editedTodo.project_id=e.selectedProject._id,t.next=17,xe.switchTodoProject(e.editedTodo,e.oldProjectID);case 17:t.next=21;break;case 19:return t.next=21,xe.updateProjectTodo(e.editedTodo);case 21:return t.next=23,xe.getAllProjectTodos();case 23:e.projectTodos=t.sent.data,e.close(),e.loading=!1;case 26:case"end":return t.stop()}}),t)})))()},populateProjects:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.selectProject){t.next=8;break}return e.overlay=!0,t.next=4,xe.getProjects();case 4:e.projects=t.sent.data,e.overlay=!1,t.next=9;break;case 8:e.selectedProject={};case 9:case"end":return t.stop()}}),t)})))()},editProjectTodo:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.editedIndex=1,t.editedTodo=Object.assign({},e),console.log(t.editedTodo),!t.editedTodo.project_id){r.next=9;break}return t.overlay=!0,r.next=7,xe.getOneProject(t.editedTodo.project_id);case 7:t.originalProjectTitle=r.sent.data[0].title,t.overlay=!1;case 9:t.dialog=!0;case 10:case"end":return r.stop()}}),r)})))()},deleteProjectTodo:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("deleting"),t.overlay=!0,r.next=4,xe.deleteProjectTodo(e);case 4:return r.next=6,xe.getAllProjectTodos();case 6:t.projectTodos=r.sent.data,t.overlay=!1;case 8:case"end":return r.stop()}}),r)})))()}},computed:{formTitle:function(){return-1===this.editedIndex?"New TODO":"Edit TODO"},projectTitles:function(){if(this.projects)return this.projects.map((function(e,t){return"".concat(t,".").concat(e.title)}))},selectedProject:function(){if(this.selectedIndex){var e=Number(this.selectedIndex.split(".")[0]);return this.projects[e]}return null},changeProject:function(){return!(1===this.editedIndex&&!this.selectProject)}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.getAllProjectTodos();case 2:e.projectTodos=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()}}),Me=Ee,Ue=r("de8e"),Be=r("b73d"),Fe=Object(s["a"])(Me,Re,Ne,!1,null,null,null),Je=Fe.exports;l()(Fe,{VBtn:W["a"],VCard:de["a"],VCardActions:le["a"],VCardText:le["b"],VCardTitle:le["c"],VChip:ue["a"],VCol:ve["a"],VContainer:B["a"],VDatePicker:_e["a"],VDialog:he["a"],VIcon:I["a"],VMenu:G["a"],VOverflowBtn:Ue["a"],VOverlay:Le["a"],VProgressCircular:Ae["a"],VRow:J["a"],VSpacer:$["a"],VSwitch:Be["a"],VTextField:K["a"],VTextarea:fe["a"]});var Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[r("Navbar",{attrs:{title:this.$options.name.toUpperCase()}}),r("v-overlay",{attrs:{value:e.overlay}}),r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({staticClass:"ma-3",attrs:{value:e.formattedWeekDate,label:"Pick a Week by Date","prepend-inner-icon":"mdi-calendar",readonly:""}},o))]}}]),model:{value:e.dayMenu,callback:function(t){e.dayMenu=t},expression:"dayMenu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:"","first-day-of-week":"1"},on:{change:e.selectedDateChange},model:{value:e.selectedWeekDate,callback:function(t){e.selectedWeekDate=t},expression:"selectedWeekDate"}})],1),r("v-switch",{attrs:{label:"Show Week?"},model:{value:e.weekSwitch,callback:function(t){e.weekSwitch=t},expression:"weekSwitch"}}),e.weekSwitch?r("v-card",[r("v-card-title",[e._v(" Week ")]),e.weekEditing?e._e():r("v-card-actions",[e.weekExist?r("v-btn",{attrs:{color:"primary"},on:{click:e.editWeek}},[e._v("edit")]):r("v-btn",{attrs:{color:"primary"},on:{click:e.createWeek}},[e._v("create")])],1),r("v-card-actions",[e.weekEditing?r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("Cancel")]):e._e(),e.weekEditing?r("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("OK")]):e._e()],1),r("v-card",{attrs:{flat:""}},[r("v-card-title",[e._v(" For Work ")]),e._l(e.workArray,(function(t,o){return r("v-row",{key:o,attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v("W"+e._s(o+1)+" "+e._s(t.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[e.weekEditing?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:"",disabled:!e.weekEditing}},[r("v-icon",{attrs:{medium:""},on:{click:function(t){return e.delWork(o)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)})),r("v-card",{attrs:{flat:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[e.weekEditing?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.projectSerial},model:{value:e.selectedProjectSerialWork,callback:function(t){e.selectedProjectSerialWork=t},expression:"selectedProjectSerialWork"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-start":""}},[e.weekEditing?r("v-icon",{staticClass:"pa-6",attrs:{color:"primary",medium:""},on:{click:e.addWork}},[e._v("mdi-plus-circle-outline")]):e._e()],1)],1)],1)],2),r("v-card",{attrs:{flat:""}},[r("v-card-title",[e._v(" For Growth ")]),e._l(e.growthArray,(function(t,o){return r("v-row",{key:o,attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v("G"+e._s(o+1)+" "+e._s(t.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[e.weekEditing?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:"",disabled:!e.weekEditing}},[r("v-icon",{attrs:{medium:""},on:{click:function(t){return e.delGrowth(o)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)})),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[e.weekEditing?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.projectSerial},model:{value:e.selectedProjectSerialGrowth,callback:function(t){e.selectedProjectSerialGrowth=t},expression:"selectedProjectSerialGrowth"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-center":""}},[e.weekEditing?r("v-icon",{staticClass:"pa-6",attrs:{color:"primary",medium:""},on:{click:e.addGrowth}},[e._v("mdi-plus-circle-outline")]):e._e()],1)],1)],2),r("v-card",{attrs:{flat:""}},[r("v-card-title",[e._v(" For Life ")]),e._l(e.lifeArray,(function(t,o){return r("v-row",{key:o,attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v("L"+e._s(o+1)+" "+e._s(t.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[e.weekEditing?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:"",disabled:!e.weekEditing}},[r("v-icon",{attrs:{medium:""},on:{click:function(t){return e.delLife(o)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)})),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"8",md:"6"}},[e.weekEditing?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.projectSerial},model:{value:e.selectedProjectSerialLife,callback:function(t){e.selectedProjectSerialLife=t},expression:"selectedProjectSerialLife"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-center":""}},[e.weekEditing?r("v-icon",{staticClass:"pa-6",attrs:{color:"primary",medium:""},on:{click:e.addLife}},[e._v("mdi-plus-circle-outline")]):e._e()],1)],1)],2),r("v-card-title",[e._v("Weekly Comment")]),r("v-textarea",{staticClass:"mx-3",attrs:{"row-height":"12","auto-grow":"",outlined:"",clearable:"",placeholder:"enter weekly comment",disabled:!e.weekEditing},model:{value:e.weekComment,callback:function(t){e.weekComment=t},expression:"weekComment"}})],1):e._e(),e.weekExist?r("v-menu",{attrs:{"offset-x":"","close-on-content-click":!1,"nudge-width":"50"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({staticClass:"my-3",attrs:{color:"primary"}},o),[e._v(" Show Weekday ")])]}}],null,!1,874815203),model:{value:e.weekdayMenu,callback:function(t){e.weekdayMenu=t},expression:"weekdayMenu"}},[r("v-card",e._l(e.formattedWeekDates,(function(t,o){return r("v-list",{key:o},[r("v-list-item",[r("v-list-item-action",[r("v-checkbox",{attrs:{label:t,value:t},model:{value:e.datesToShow,callback:function(t){e.datesToShow=t},expression:"datesToShow"}})],1)],1)],1)})),1)],1):e._e(),e._l(e.datesToShowSorted,(function(t,o){return r("v-card",{key:t+"_"+o},[r("v-card",[r("v-card-title",[e._v(e._s(t))]),r("v-card-actions",[e.editingDay?e._e():r("v-btn",{attrs:{color:"primary"},on:{click:function(r){return e.editDaily(t)}}},[e._v("edit")]),t===e.editingDate?r("v-btn",{attrs:{color:"secondary"},on:{click:e.close}},[e._v("cancel")]):e._e(),t===e.editingDate?r("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("ok")]):e._e()],1),r("v-card-title",[e._v("Work")]),e._l(e.dailySchedule[t].dailyWorkArray,(function(o,a,n){return[r("v-card",{key:t+"_"+a+"_"+n,attrs:{flat:""}},[e._l(o,(function(o,n){return[r("v-row",{key:t+"_"+o.title+"_"+a+"_"+n,attrs:{"no-gutters":"",align:"center"}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v(e._s(a)+" "+e._s(o.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[t===e.editingDate?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:""}},[r("v-icon",{attrs:{medium:""},on:{click:function(r){return e.delDailyWork(t,a,n)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)]}))],2)]})),t===e.editingDate&&e.editingDay?r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"1",md:"1"}},[e.editingDay?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.weekWorkTag},on:{change:e.fetchWorkProjectTodos},model:{value:e.selectedWorkTag,callback:function(t){e.selectedWorkTag=t},expression:"selectedWorkTag"}}):e._e()],1),r("v-col",{attrs:{cols:"7",md:"5"}},[e.editingDay?r("v-overflow-btn",{attrs:{items:e.dailyWorkTodoArray},on:{change:e.triggerNewWorkTodo},model:{value:e.selectedWorkTodo,callback:function(t){e.selectedWorkTodo=t},expression:"selectedWorkTodo"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-center":""}},[r("v-icon",{staticClass:"pa-6",attrs:{color:"success",medium:""},on:{click:function(r){return e.addDailyWork(t)}}},[e._v("mdi-plus-circle-outline")])],1)],1):e._e(),r("v-card-title",[e._v("Growth")]),e._l(e.dailySchedule[t].dailyGrowthArray,(function(o,a,n){return[r("v-card",{key:t+"_"+a+"_"+n,attrs:{flat:""}},[e._l(o,(function(o,n){return[r("v-row",{key:t+"_"+o.title+"_"+a+"_"+n,attrs:{"no-gutters":"",align:"center"}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v(e._s(a)+" "+e._s(o.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[t===e.editingDate?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:""}},[r("v-icon",{attrs:{medium:""},on:{click:function(r){return e.delDailyGrowth(t,a,n)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)]}))],2)]})),t===e.editingDate&&e.editingDay?r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"1",md:"1"}},[e.editingDay?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.weekGrowthTag},on:{change:e.fetchGrowthProjectTodos},model:{value:e.selectedGrowthTag,callback:function(t){e.selectedGrowthTag=t},expression:"selectedGrowthTag"}}):e._e()],1),r("v-col",{attrs:{cols:"7",md:"5"}},[e.editingDay?r("v-overflow-btn",{attrs:{items:e.dailyGrowthTodoArray},on:{change:e.triggerNewGrowthTodo},model:{value:e.selectedGrowthTodo,callback:function(t){e.selectedGrowthTodo=t},expression:"selectedGrowthTodo"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-center":""}},[r("v-icon",{staticClass:"pa-6",attrs:{color:"success",medium:""},on:{click:function(r){return e.addDailyGrowth(t)}}},[e._v("mdi-plus-circle-outline")])],1)],1):e._e(),r("v-card-title",[e._v("Life")]),e._l(e.dailySchedule[t].dailyLifeArray,(function(o,a,n){return[r("v-card",{key:t+"_"+a+"_"+n,attrs:{flat:""}},[e._l(o,(function(o,n){return[r("v-row",{key:t+"_"+o.title+"_"+a+"_"+n,attrs:{"no-gutters":"",align:"center"}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-card-text",{staticClass:"subtitle-1"},[e._v(e._s(a)+" "+e._s(o.title))])],1),r("v-col",{attrs:{cols:"1",md:"2"}},[t===e.editingDate?r("v-btn",{staticClass:"pa-8",attrs:{color:"warning",icon:""}},[r("v-icon",{attrs:{medium:""},on:{click:function(r){return e.delDailyLife(t,a,n)}}},[e._v("mdi-minus-circle-outline")])],1):e._e()],1)],1)]}))],2)]})),t===e.editingDate&&e.editingDay?r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"1",md:"1"}},[e.editingDay?r("v-overflow-btn",{staticClass:"ml-3",attrs:{items:e.weekLifeTag},on:{change:e.fetchLifeProjectTodos},model:{value:e.selectedLifeTag,callback:function(t){e.selectedLifeTag=t},expression:"selectedLifeTag"}}):e._e()],1),r("v-col",{attrs:{cols:"7",md:"5"}},[e.editingDay?r("v-overflow-btn",{attrs:{items:e.dailyLifeTodoArray},on:{change:e.triggerNewLifeTodo},model:{value:e.selectedLifeTodo,callback:function(t){e.selectedLifeTodo=t},expression:"selectedLifeTodo"}}):e._e()],1),r("v-col",{attrs:{cols:"1",md:"2","align-center":""}},[r("v-icon",{staticClass:"pa-6",attrs:{color:"success",medium:""},on:{click:function(r){return e.addDailyLife(t)}}},[e._v("mdi-plus-circle-outline")])],1)],1):e._e(),r("v-card-title",[e._v("Daily Comment")]),r("v-textarea",{staticClass:"mx-3",attrs:{"row-height":"12","auto-grow":"",outlined:"",clearable:"",placeholder:"enter daily comment",disabled:!(t===e.editingDate&&e.editingDay)},model:{value:e.dailySchedule[t].dailyComment,callback:function(r){e.$set(e.dailySchedule[t],"dailyComment",r)},expression:"dailySchedule[date].dailyComment"}})],2)],1)})),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.todoDialog,callback:function(t){e.todoDialog=t},expression:"todoDialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.formTitle))]),r("v-card-text",[r("v-text-field",{attrs:{readonly:"",placeholder:e.selectedProjectForNewTodo.title}}),r("v-text-field",{attrs:{label:"Title"},model:{value:e.editedTodo.title,callback:function(t){e.$set(e.editedTodo,"title",t)},expression:"editedTodo.title"}}),r("v-textarea",{attrs:{"auto-grow":"",label:"Content"},model:{value:e.editedTodo.content,callback:function(t){e.$set(e.editedTodo,"content",t)},expression:"editedTodo.content"}}),r("v-text-field",{attrs:{label:"Status"},model:{value:e.editedTodo.status,callback:function(t){e.$set(e.editedTodo,"status",t)},expression:"editedTodo.status"}}),r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-text-field",e._g({attrs:{label:"Pick a due date","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}},o))]}}]),model:{value:e.due_menu,callback:function(t){e.due_menu=t},expression:"due_menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.due_menu=!1}},model:{value:e.editedTodo.due,callback:function(t){e.$set(e.editedTodo,"due",t)},expression:"editedTodo.due"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:e.closeTodo}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:e.save}},[e._v("OK")])],1)],1)],1)],2)},ze=[],qe=(r("caad"),r("13d5"),r("fb6a"),r("a434"),r("07ac"),r("ade3")),He=r("5530"),Qe=r("c06b"),Xe=r("3e7f"),Ye=r("c6b1"),Ze=r("54c4"),et=r("01df"),tt=r("e567"),rt="/api/weeks/",ot=function(){function e(){Object(k["a"])(this,e)}return Object(w["a"])(e,null,[{key:"getWeekByDate",value:function(e){return console.log(e),j.a.get(rt,{params:{selectedDateISOString:e}})}},{key:"postWeekByDate",value:function(e,t){return j.a.post(rt,Object(He["a"])({selectedDateISOString:e},t))}}]),e}(),at=ot,nt={name:"Daily",components:{Navbar:E},data:function(){return{due_menu:!1,editedTodo:{project_id:"",title:"",content:"",due:"",status:""},blankTodo:{project_id:"",title:"",content:"",due:"",status:""},selectedProjectForNewTodo:"",todoDialog:!1,weekSwitch:!0,weekComment:"",selectedLifeTodo:"",selectedLifeTag:"",selectedGrowthTag:"",selectedGrowthTodo:"",selectedWorkTag:"",selectedWorkTodo:"",editingDay:!1,editingDate:"",testWorkArray:[],workArray:[],growthArray:[],lifeArray:[],showWeek:!0,showDay:!0,projects:[],weekDates:[],datesToShow:[],selectedProjectSerialWork:"",selectedProjectSerialGrowth:"",selectedProjectSerialLife:"",currentWeekSchedule:{weekWorkSchedule:{},weekGrowthSchedule:{},weekLifeSchedule:{},weekDates:[],weekComment:"",dailySchedule:{}},blankWeekSchedule:{weekWorkSchedule:{},weekGrowthSchedule:{},weekLifeSchedule:{},weekDates:{},weekComment:"",dailySchedule:{}},weekExist:!1,weekEditing:!1,editedIndex:0,overlay:!1,loading:!1,selectedWeekDate:null,dayMenu:!1,weekdayMenu:!1,dailySchedule:{},dailyWorkTodoArray:[],dailyGrowthTodoArray:[],dailyLifeTodoArray:[]}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.getProjects();case 2:return e.projects=t.sent.data,e.selectedWeekDate=Object(Qe["a"])(Object(Xe["a"])((new Date).toISOString()),"yyyy-MM-dd"),r=Object(Ye["a"])(e.selectedWeekDate,"yyyy-MM-dd",new Date).toISOString(),t.next=7,e.fetchWeekSchedule(r);case 7:case"end":return t.stop()}}),t)})))()},methods:{closeTodo:function(){this.selectedWorkTodo="",this.selectedGrowthTodo="",this.selectedLifeTodo="",this.dailyWorkTodoArray=[],this.dailyGrowthTodoArray=[],this.dailyLifeTodoArray=[],this.selectedWorkTag="",this.selectedGrowthTag="",this.selectedLifeTag="",this.editedIndex=0,this.selectedProjectForNewTodo="",this.editedTodo=Object.assign({},this.blankTodo),this.todoDialog=!1},triggerNewWorkTodo:function(){if("_0"===this.selectedWorkTodo){this.editedIndex=3,this.todoDialog=!0;var e=this.selectedWorkTag.slice(1-this.selectedWorkTag.length);this.selectedProjectForNewTodo=this.currentWeekSchedule.weekWorkSchedule[e]}},triggerNewGrowthTodo:function(){if("_0"===this.selectedGrowthTodo){this.editedIndex=4,this.todoDialog=!0;var e=this.selectedGrowthTag.slice(1-this.selectedGrowthTag.length);this.selectedProjectForNewTodo=this.currentWeekSchedule.weekGrowthSchedule[e]}},triggerNewLifeTodo:function(){if("_0"===this.selectedLifeTodo){this.editedIndex=5,this.todoDialog=!0;var e=this.selectedLifeTag.slice(1-this.selectedLifeTag.length);this.selectedProjectForNewTodo=this.currentWeekSchedule.weekLifeSchedule[e]}},delDailyWork:function(e,t,r){this.dailySchedule[e].dailyWorkArray[t].splice(r,1),this.$forceUpdate()},delDailyGrowth:function(e,t,r){this.dailySchedule[e].dailyGrowthArray[t].splice(r,1),this.$forceUpdate()},delDailyLife:function(e,t,r){this.dailySchedule[e].dailyLifeArray[t].splice(r,1),this.$forceUpdate()},addDailyWork:function(e){console.log(e),this.selectedWorkTodo&&(this.dailySchedule[e].dailyWorkArray[this.selectedWorkTag]||(this.dailySchedule[e].dailyWorkArray[this.selectedWorkTag]=[]),this.dailySchedule[e].dailyWorkArray[this.selectedWorkTag].push(this.selectedWorkTodo),this.$forceUpdate())},addDailyGrowth:function(e){console.log(e),this.selectedGrowthTodo&&(this.dailySchedule[e].dailyGrowthArray[this.selectedGrowthTag]||(this.dailySchedule[e].dailyGrowthArray[this.selectedGrowthTag]=[]),this.dailySchedule[e].dailyGrowthArray[this.selectedGrowthTag].push(this.selectedGrowthTodo),this.$forceUpdate())},addDailyLife:function(e){console.log(e),this.selectedLifeTodo&&(this.dailySchedule[e].dailyLifeArray[this.selectedLifeTag]||(this.dailySchedule[e].dailyLifeArray[this.selectedLifeTag]=[]),this.dailySchedule[e].dailyLifeArray[this.selectedLifeTag].push(this.selectedLifeTodo),this.$forceUpdate())},editDaily:function(e){console.log("trying to edit daily"),this.editingDay=!0,console.log("editingDay Set"),this.editingDate=e,console.log("editingDate Set"),this.editedIndex=2,console.log("editedIndex Set")},fetchWorkProjectTodos:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.selectedWorkTag){t.next=9;break}return e.overlay=!0,r=e.selectedWorkTag.slice(1-e.selectedWorkTag.length),o=e.currentWeekSchedule.weekWorkSchedule[r]._id,t.next=6,xe.getProjectTodos(o);case 6:e.dailyWorkTodoArray=t.sent.data.map((function(e){return{text:e.title,value:e}})),e.dailyWorkTodoArray.push({text:"new Todo...",value:"_0"}),e.overlay=!1;case 9:case"end":return t.stop()}}),t)})))()},fetchGrowthProjectTodos:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.selectedGrowthTag){t.next=9;break}return e.overlay=!0,r=e.selectedGrowthTag.slice(1-e.selectedGrowthTag.length),o=e.currentWeekSchedule.weekGrowthSchedule[r]._id,t.next=6,xe.getProjectTodos(o);case 6:e.dailyGrowthTodoArray=t.sent.data.map((function(e){return{text:e.title,value:e}})),e.dailyGrowthTodoArray.push({text:"new Todo...",value:"_0"}),e.overlay=!1;case 9:case"end":return t.stop()}}),t)})))()},fetchLifeProjectTodos:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.selectedLifeTag){t.next=9;break}return e.overlay=!0,r=e.selectedLifeTag.slice(1-e.selectedLifeTag.length),o=e.currentWeekSchedule.weekLifeSchedule[r]._id,t.next=6,xe.getProjectTodos(o);case 6:e.dailyLifeTodoArray=t.sent.data.map((function(e){return{text:e.title,value:e}})),e.dailyLifeTodoArray.push({text:"new Todo...",value:"_0"}),e.overlay=!1;case 9:case"end":return t.stop()}}),t)})))()},addTest:function(){this.selectedProjectWork&&this.testWorkArray.push(this.selectedProjectWork)},addWork:function(){this.selectedProjectWork&&this.workArray.push(this.selectedProjectWork)},addGrowth:function(){this.selectedProjectGrowth&&this.growthArray.push(this.selectedProjectGrowth)},addLife:function(){this.selectedProjectLife&&this.lifeArray.push(this.selectedProjectLife)},selectedDateChange:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.datesToShow=[],e.fetchWeekSchedule(e.selectedDateISOString),e.dayMenu=!1,e.close();case 4:case"end":return t.stop()}}),t)})))()},fetchWeekSchedule:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.overlay=!0,r.next=3,at.getWeekByDate(e);case 3:t.currentWeekSchedule=r.sent.data,t.currentWeekSchedule?t.weekExist=!0:(t.weekExist=!1,t.currentWeekSchedule=JSON.parse(JSON.stringify(t.blankWeekSchedule))),t.weekArrayFromSchedule(),t.overlay=!1;case 7:case"end":return r.stop()}}),r)})))()},createWeek:function(){this.editedIndex=1,this.weekEditing=!0},editWeek:function(){this.editedIndex=0,this.weekEditing=!0},close:function(){this.weekArrayFromSchedule(),this.editedIndex=0,this.weekEditing=!1,this.editingDay=!1,this.editingDate="",this.selectedLifeTag="",this.selectedLifeTodo="",this.selectedGrowthTag="",this.selectedGrowthTodo="",this.selectedWorkTag="",this.selectedWorkTodo=""},weekArrayFromSchedule:function(){this.workArray=this.currentWeekSchedule.weekWorkSchedule?Object.values(this.currentWeekSchedule.weekWorkSchedule):[],this.growthArray=this.currentWeekSchedule.weekGrowthSchedule?Object.values(this.currentWeekSchedule.weekGrowthSchedule):[],this.lifeArray=this.currentWeekSchedule.weekLifeSchedule?Object.values(this.currentWeekSchedule.weekLifeSchedule):[],this.weekComment=this.currentWeekSchedule.weekComment?this.currentWeekSchedule.weekComment:"",this.dailySchedule=JSON.parse(JSON.stringify(this.currentWeekSchedule.dailySchedule)),console.log("array from schedule completed!")},delWork:function(e){this.workArray.splice(e,1)},delGrowth:function(e){this.growthArray.splice(e,1)},delLife:function(e){this.lifeArray.splice(e,1)},save:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,0!==e.editedIndex&&1!==e.editedIndex){t.next=15;break}return e.currentWeekSchedule.weekWorkSchedule=e.workArray.reduce((function(e,t,r){return Object(He["a"])(Object(He["a"])({},e),{},Object(qe["a"])({},r+1,t))}),{}),e.currentWeekSchedule.weekGrowthSchedule=e.growthArray.reduce((function(e,t,r){return Object(He["a"])(Object(He["a"])({},e),{},Object(qe["a"])({},r+1,t))}),{}),e.currentWeekSchedule.weekLifeSchedule=e.lifeArray.reduce((function(e,t,r){return Object(He["a"])(Object(He["a"])({},e),{},Object(qe["a"])({},r+1,t))}),{}),e.currentWeekSchedule.weekComment=e.weekComment,console.log(e.currentWeekSchedule),t.next=9,at.postWeekByDate(e.selectedDateISOString,e.currentWeekSchedule);case 9:return t.next=11,e.fetchWeekSchedule(e.selectedDateISOString);case 11:e.loading=!1,e.close(),t.next=34;break;case 15:if(2!==e.editedIndex){t.next=26;break}return e.currentWeekSchedule.dailySchedule=e.dailySchedule,console.log(e.currentWeekSchedule),t.next=20,at.postWeekByDate(e.selectedDateISOString,e.currentWeekSchedule);case 20:return t.next=22,e.fetchWeekSchedule(e.selectedDateISOString);case 22:e.loading=!1,e.close(),t.next=34;break;case 26:if(![3,4,5].includes(e.editedIndex)){t.next=34;break}return e.editedTodo.project_id=e.selectedProjectForNewTodo._id,console.log(e.editedTodo),t.next=31,xe.createProjectTodo(e.editedTodo);case 31:console.log("new projectTodo created!"),e.closeTodo(),e.loading=!1;case 34:case"end":return t.stop()}}),t)})))()}},computed:{formTitle:function(){return 3===this.editedIndex?"New Work TODO":4===this.editedIndex?"New Growth TODO":5===this.editedIndex?"New Life TODO":""},datesToShowSorted:function(){if(this.datesToShow)return this.datesToShow.sort()},projectSerial:function(){if(this.projects)return this.projects.map((function(e,t){return"".concat(t,".").concat(e.title)}))},weekWorkTag:function(){if(this.currentWeekSchedule.weekWorkSchedule)return Object.values(this.currentWeekSchedule.weekWorkSchedule).map((function(e,t){return"W".concat(t+1)}))},weekGrowthTag:function(){if(this.currentWeekSchedule.weekGrowthSchedule)return Object.values(this.currentWeekSchedule.weekGrowthSchedule).map((function(e,t){return"G".concat(t+1)}))},weekLifeTag:function(){if(this.currentWeekSchedule.weekLifeSchedule)return Object.values(this.currentWeekSchedule.weekLifeSchedule).map((function(e,t){return"L".concat(t+1)}))},selectedProjectWork:function(){if(this.selectedProjectSerialWork){var e=Number(this.selectedProjectSerialWork.split(".")[0]);return this.projects[e]}return null},selectedProjectGrowth:function(){if(this.selectedProjectSerialGrowth){var e=Number(this.selectedProjectSerialGrowth.split(".")[0]);return this.projects[e]}return null},selectedProjectLife:function(){if(this.selectedProjectSerialLife){var e=Number(this.selectedProjectSerialLife.split(".")[0]);return this.projects[e]}return null},formattedWeekDate:function(){return this.selectedWeekDate?Object(Qe["a"])(Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date),"yyMMddE"):""},selectedDateISOString:function(){return this.selectedWeekDate?Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date).toISOString():""},startOfWeek:function(){return this.selectedWeekDate?Object(Qe["a"])(Object(Ze["a"])(Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date),{weekStartsOn:1}),"yyMMddE"):""},endOfWeek:function(){return this.selectedWeekDate?Object(Qe["a"])(Object(et["a"])(Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date),{weekStartsOn:1}),"yyMMddE"):""},formattedWeekDates:function(){return this.selectedWeekDate?Object(tt["a"])({start:Object(Ze["a"])(Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date),{weekStartsOn:1}),end:Object(et["a"])(Object(Ye["a"])(this.selectedWeekDate,"yyyy-MM-dd",new Date),{weekStartsOn:1})}).map((function(e){return Object(Qe["a"])(e,"yyMMddE")})):""}}},it=nt,ct=r("ac7c"),st=r("1800"),dt=Object(s["a"])(it,Ke,ze,!1,null,null,null),lt=dt.exports;l()(dt,{VBtn:W["a"],VCard:de["a"],VCardActions:le["a"],VCardText:le["b"],VCardTitle:le["c"],VCheckbox:ct["a"],VCol:ve["a"],VContainer:B["a"],VDatePicker:_e["a"],VDialog:he["a"],VIcon:I["a"],VList:V["a"],VListItem:L["a"],VListItemAction:st["a"],VMenu:G["a"],VOverflowBtn:Ue["a"],VOverlay:Le["a"],VRow:J["a"],VSpacer:$["a"],VSwitch:Be["a"],VTextField:K["a"],VTextarea:fe["a"]}),o["a"].use(g["a"]);var ut=[{path:"/login",name:"Login",component:q},{path:"/todos",name:"Todos",component:pe},{path:"/projecttodos",name:"ProjectTodos",component:Je},{path:"/projects",name:"Projects",component:Pe},{path:"/projectdetail/projectid/:projectid/projecttitle/:projecttitle",name:"ProjectDetail",component:$e},{path:"/daily",name:"Daily",component:lt}],vt=new g["a"]({mode:"history",base:"/",routes:ut});vt.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,r,o){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=te.getters["users/getUserID"],console.log(t.name),console.log("User ID extracted from vuex: ".concat(a)),a){e.next=10;break}return console.log("UserID not in vuex, checking server record...."),e.next=7,b.checkLogin();case 7:n=e.sent.data,console.log("User ID extracted from server record: ".concat(n)),n?(console.log("user ID found on sever side, now updating vuex status..."),te.commit("users/setUserID",n),console.log("Now vuex has the userID of: ".concat(te.getters["users/getUserID"]))):console.log("nil session record from sever side either!");case 10:"Login"===t.name||te.getters["users/getUserID"]?o():(console.log("No userID in both server and vuex"),o("/login"));case 11:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}());var ht=vt,ft=r("f309");o["a"].use(ft["a"]);var gt=new ft["a"]({});o["a"].config.productionTip=!1,new o["a"]({router:ht,store:te,vuetify:gt,render:function(e){return e(h)}}).$mount("#app")}});
//# sourceMappingURL=app.e22f1490.js.map